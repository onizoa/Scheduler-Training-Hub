<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Scheduler Training Hub</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

  <style>
    .course-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
    .page {
        grid-area: 1 / 1 / 2 / 2; /* Places all pages in the same grid cell */
        opacity: 0;
        pointer-events: none; /* Prevents interacting with hidden pages */
        transition: opacity 300ms ease-in-out;
      }
      .page.active {
        opacity: 1;
        pointer-events: auto; /* Allows interaction with the visible page */
      }
    .carousel-dot { transition: background-color 160ms ease, transform 160ms ease; }
    #imageModal { display: none; position: fixed; z-index: 60; left:0; top:0; width:100%; height:100%; background: rgba(0,0,0,0.75); align-items: center; justify-content: center; }
    #imageModal img { max-width: 92%; max-height: 92%; border-radius: 8px; box-shadow: 0 8px 30px rgba(0,0,0,0.6); }

    /* Training video styling */
    .training-video {
      width: 90%;
      max-height: 80vh;
      margin-left: auto;
      margin-right: auto;
      border-radius: 0.5rem;
      background-color: #f3f4f6;
      object-fit: contain;
      display: block;
    }
    @media (max-width: 768px) {
      .training-video { width: 100%; }
    }
    /* Xtime  sidebar button highlight effect */
    .tab-btn::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px; /* This is our 4px vertical line */
      background-color: #3b82f6; /* Tailwind's blue-500 */
      
      /* Animation properties */
      transform: scaleY(0);
      transform-origin: center;
      transition: transform 250ms ease-in-out;
    }

    .tab-btn.highlight-active::before {
      /* The final state of the animation */
      transform: scaleY(1);
    }
    .tab-btn.text-blue-600 span {
      font-weight: 600;
    }

    /* --- Modern, Auto-Hiding Scrollbar --- */
    #main-content::-webkit-scrollbar,
    .sidebar nav::-webkit-scrollbar {
      width: 10px;
    }

    #main-content::-webkit-scrollbar-track,
    .sidebar nav::-webkit-scrollbar-track {
      background: transparent;
    }

    /* Base scrollbar - fully transparent */
    #main-content::-webkit-scrollbar-thumb,
    .sidebar nav::-webkit-scrollbar-thumb {
      background-color: rgba(107, 114, 128, 0); /* transparent */
      border-radius: 20px;
      border: 3px solid transparent;
      background-clip: content-box;
      transition: background-color 1.5s ease-in-out; /* smooth fade */
    }

    /* When scrolling, thumb is visible */
    #main-content.is-scrolling::-webkit-scrollbar-thumb,
    .sidebar nav.is-scrolling::-webkit-scrollbar-thumb {
      background-color: rgba(107, 114, 128, 0.5); /* visible */
    }


  </style>
</head>
<body class="bg-gray-100">
  <div class="relative h-screen overflow-hidden">
    <!-- SIDEBAR -->
    <aside id="sidebar" class="sidebar bg-white w-64 border-r border-gray-200 flex-col flex transition-transform duration-300 ease-in-out transform -translate-x-full absolute inset-y-0 left-0 z-20">
      <div class="p-4 border-b border-gray-200">
        <div class="flex items-center space-x-3">
          <div class="bg-blue-100 p-2 rounded-lg">
            <img src="./images/Xtime icon.png" alt="Xtime Logo" class="w-6 h-6 object-contain">
          </div>
          <button id="tab-dashboard-main" class="tab-btn font-semibold text-lg">Xtime Scheduler</button>
        </div>
      </div>

    <nav class="flex-1 space-y-2 overflow-y-auto" aria-label="Training chapters">
        <button id="tab-xtime-module" class="tab-btn relative  flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="xtime-module">
          <i data-feather="play-circle" class="w-5 h-5"></i><span>Introduction</span>
        </button>
        <button id="tab-login" class="tab-btn relative  flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="login">
          <i data-feather="log-in" class="w-5 h-5"></i><span>Logging In</span>
        </button>
        <button id="tab-dashboard" class="tab-btn relative  flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="dashboard">
          <i data-feather="grid" class="w-5 h-5"></i><span>Dealership Selection</span>
        </button>
        <button id="tab-newappt" class="tab-btn relative  flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="newappt">
          <i data-feather="plus-circle" class="w-5 h-5"></i><span>New Appointment</span>
        </button>
        <button id="tab-newcustomer" class="tab-btn relative  flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="newcustomer">
          <i data-feather="user-plus" class="w-5 h-5"></i><span>New Customer</span>
        </button>
        <button id="tab-addvehicle" class="tab-btn relative flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="addvehicle">
          <i data-feather="edit" class="w-5 h-5"></i><span>Add/Delete Vehicle</span>
        </button>
        <button id="tab-reschedule" class="tab-btn relative  flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="reschedule">
          <i data-feather="calendar" class="w-5 h-5"></i><span>Rescheduling</span>
        </button>
        <button id="tab-cancel" class="tab-btn relative  flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="cancel">
          <i data-feather="x-circle" class="w-5 h-5"></i><span>Cancelling</span>
        </button>
        <button id="tab-dmsappt" class="tab-btn relative flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="dmsappt">
          <i data-feather="alert-circle" class="w-5 h-5"></i><span>DMS Appointment</span>
        </button>
        <button id="tab-rohistory" class="tab-btn relative flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="rohistory">
          <i data-feather="file-text" class="w-5 h-5"></i><span>RO History</span>
        </button>
        <button id="tab-knowledgecheck" class="tab-btn relative flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="knowledgecheck">
          <i data-feather="check-circle" class="w-5 h-5"></i><span>Knowledge Check</span>
        </button>
      </nav>

      <div class="p-4 border-t border-gray-200">
        <button class="tab-btn flex items-center space-x-3 w-full px-4 py-3 hover:bg-gray-100 text-gray-700" data-page="dashboard-main">
          <i data-feather="arrow-left" class="w-5 h-5"></i><span>Back to Modules</span>
        </button>
      </div>
    </aside>

    <!-- DASHBOARD MAIN PAGE -->
    <div id="main-content" class="h-full overflow-auto transition-all duration-300 ease-in-out">
      <header class="bg-white border-b border-gray-200 p-4 sticky top-0 z-10">
        <div class="flex justify-between items-center">
          <div id="header-left-container" class="flex items-center space-x-4">
            <img id="header-logo" src="./images/DeaerFocus logo.png" alt="DealerFocus Logo" class="h-10 w-auto">
            <h1 id="main-header-title" class="text-xl font-semibold text-gray-800">Scheduler Training Hub</h1>
          </div>

          <div class="flex items-center space-x-4">
            <div id="search-bar-container" class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i data-feather="search" class="h-4 w-4 text-gray-400"></i>
              </div>
              <input type="text" id="module-search-input" class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500" placeholder="Search...">
            </div>
          </div>
        </div>
      </header>

      <main class="p-6 grid">

        <section id="dashboard-main" class="page active" aria-labelledby="main-header-title">
          <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white mb-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-2">Scheduler Training Suite</h2>
            <p class="max-w-lg">Select a training module to begin.</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            <div id="card-xime" role="button" tabindex="0" data-page="xtime-module" data-active-tab="tab-xtime-module" class="course-card bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 cursor-pointer flex flex-col" data-aos="fade-up">
              <div class="h-40 bg-blue-100 flex items-center justify-center">
                <img src="./images/Xtime Logo Vector.png" alt="Xtime Scheduler Logo" class="w-32 h-32 object-contain">
              </div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">Xtime Scheduler</h3>
                <p class="text-gray-600 text-sm mb-4">The primary training guide for the Xtime scheduling application.</p>
                <button class="w-full mt-auto text-center bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition" data-page="xtime-module" data-active-tab="tab-xtime-module">Begin Training</button>
              </div>
            </div>

            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 opacity-60 cursor-not-allowed flex flex-col" data-aos="fade-up" data-aos-delay="100">
              <div class="h-48 bg-gray-100 flex items-center justify-center"><i data-feather="bookmark" class="w-12 h-12 text-gray-400"></i></div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">CDK</h3>
                <p class="text-gray-600 text-sm mb-4">Training module for CDK. Coming soon.</p>
                <button class="w-full mt-auto text-center bg-gray-200 text-gray-500 px-4 py-2 rounded-lg font-medium cursor-not-allowed">Coming Soon</button>
              </div>
            </div>

            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 opacity-60 cursor-not-allowed flex flex-col" data-aos="fade-up" data-aos-delay="100">
              <div class="h-48 bg-gray-100 flex items-center justify-center"><i data-feather="bookmark" class="w-12 h-12 text-gray-400"></i></div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">WI ADVISOR</h3>
                <p class="text-gray-600 text-sm mb-4">Training module for WI ADVISOR. Coming soon.</p>
                <button class="w-full mt-auto text-center bg-gray-200 text-gray-500 px-4 py-2 rounded-lg font-medium cursor-not-allowed">Coming Soon</button>
              </div>
            </div>

            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 opacity-60 cursor-not-allowed flex flex-col" data-aos="fade-up" data-aos-delay="100">
              <div class="h-48 bg-gray-100 flex items-center justify-center"><i data-feather="bookmark" class="w-12 h-12 text-gray-400"></i></div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">Online Schedulers</h3>
                <p class="text-gray-600 text-sm mb-4">Training module for Online Schedulers. Coming soon.</p>
                <button class="w-full mt-auto text-center bg-gray-200 text-gray-500 px-4 py-2 rounded-lg font-medium cursor-not-allowed">Coming Soon</button>
              </div>
            </div>

            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 opacity-60 cursor-not-allowed flex flex-col" data-aos="fade-up" data-aos-delay="100">
              <div class="h-48 bg-gray-100 flex items-center justify-center"><i data-feather="bookmark" class="w-12 h-12 text-gray-400"></i></div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">MYKAARMA</h3>
                <p class="text-gray-600 text-sm mb-4">Training module for MYKAARMA. Coming soon.</p>
                <button class="w-full mt-auto text-center bg-gray-200 text-gray-500 px-4 py-2 rounded-lg font-medium cursor-not-allowed">Coming Soon</button>
              </div>
            </div>

            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 opacity-60 cursor-not-allowed flex flex-col" data-aos="fade-up" data-aos-delay="100">
              <div class="h-48 bg-gray-100 flex items-center justify-center"><i data-feather="bookmark" class="w-12 h-12 text-gray-400"></i></div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">Tekion</h3>
                <p class="text-gray-600 text-sm mb-4">Training module for Tekion. Coming soon.</p>
                <button class="w-full mt-auto text-center bg-gray-200 text-gray-500 px-4 py-2 rounded-lg font-medium cursor-not-allowed">Coming Soon</button>
              </div>
            </div>

            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 opacity-60 cursor-not-allowed flex flex-col" data-aos="fade-up" data-aos-delay="100">
              <div class="h-48 bg-gray-100 flex items-center justify-center"><i data-feather="bookmark" class="w-12 h-12 text-gray-400"></i></div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">Dealerlogix</h3>
                <p class="text-gray-600 text-sm mb-4">Training module for Dealerlogix. Coming soon.</p>
                <button class="w-full mt-auto text-center bg-gray-200 text-gray-500 px-4 py-2 rounded-lg font-medium cursor-not-allowed">Coming Soon</button>
              </div>
            </div>

            <div class="bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 transition duration-300 opacity-60 cursor-not-allowed flex flex-col" data-aos="fade-up" data-aos-delay="100">
              <div class="h-48 bg-gray-100 flex items-center justify-center"><i data-feather="bookmark" class="w-12 h-12 text-gray-400"></i></div>
              <div class="p-5 flex flex-col h-full">
                <h3 class="font-semibold text-lg mb-2">Autoloop</h3>
                <p class="text-gray-600 text-sm mb-4">Training module for Autoloop. Coming soon.</p>
                <button class="w-full mt-auto text-center bg-gray-200 text-gray-500 px-4 py-2 rounded-lg font-medium cursor-not-allowed">Coming Soon</button>
              </div>
            </div>
          </div>
        </section>
        <!-- END OF DASHBOARD MAIN PAGE -->

<!-- XTIME MODULE  -->
        <section id="xtime-module" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">Welcome to the Xtime Scheduler Training</h2>
            <video controls class="training-video" preload="metadata">
              <source src="./videos/Xtime Introduction1.mp4" type="video/mp4">
              <track src="./captions/intro_en.vtt" kind="subtitles" srclang="en" label="English">
              Your browser does not support the video tag.
            </video>
            <h2 class="text-2xl font-bold mb-6 text-center"></h2>
          </div>
        </section>

       <!-- LOGGING IN (complete carousel + notes) TAB-->
        <section id="login" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">1 — Logging In</h2>

            <div class="relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div id="loginCarousel" class="carousel-container relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
                <div class="carousel-slides relative p-4 bg-gray-50">
                  <div class="carousel-slide w-full flex flex-col justify-center">
                    <video controls="" class="training-video" preload="metadata">
                      <source src="./videos/Xtime Login page1.mp4" type="video/mp4">
                      <track src="./captions/login_step1.vtt" kind="subtitles" srclang="en" label="English">
                    </video>
                    <p class="mt-4 text-center text-gray-700">Step 1 — Go to <strong>Xtime.com</strong> then click <strong>LOGIN</strong></p>
                  </div>

                  <div class="carousel-slide hidden w-full flex flex-col justify-center">
                    <video controls="" class="training-video" preload="metadata">
                      <source src="./videos/Xtime username input1.mp4" type="video/mp4">
                      <track src="./captions/login_step2.vtt" kind="subtitles" srclang="en" label="English">
                    </video>
                    <p class="mt-4 text-center text-gray-700">Step 2 — Enter your <strong>Username</strong></p>
                  </div>
                  <div class="carousel-slide hidden w-full flex flex-col justify-center">
                    <video controls="" class="training-video" preload="metadata">
                      <source src="./videos/Xtime password input1.mp4" type="video/mp4">
                      <track src="./captions/login_step3.vtt" kind="subtitles" srclang="en" label="English">
                    </video>
                    <p class="mt-4 text-center text-gray-700">Step 3 — Enter your <strong>Password</strong></p>
                  </div>
                  <div class="carousel-slide hidden w-full flex flex-col justify-center">
                    <video controls="" class="training-video" preload="metadata">
                      <source src="./videos/Xtime tool selection1.mp4" type="video/mp4">
                      <track src="./captions/login_step4.vtt" kind="subtitles" srclang="en" label="English">
                    </video>
                    <p class="mt-4 text-center text-gray-700">Step 4 — Select the <strong>Xtime tool</strong></p>
                  </div>
                </div>

                <div class="flex justify-between items-center p-3 bg-white border-t">
                  <button class="carousel-prev px-4 py-2 bg-gray-200 text-gray-800 text-sm rounded-lg hover:bg-gray-300 transition" aria-label="Previous slide">Back</button>
                  <div class="carousel-dots flex justify-center space-x-2"></div>
                  <button class="carousel-next px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-500 transition" aria-label="Next slide">Next</button>
                </div>
              </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li><strong>Always</strong> double-check your username and password before contacting support.</li>
                <li>If the page is slow, wait a few seconds — do not repeatedly click <strong>Login</strong>.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- DEALERSHIP SELECTION TAB-->
          <section id="dashboard" class="page">
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
              <h2 class="text-2xl font-bold mb-6 text-center">2 — Dealership Selection</h2>

            <div class="relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
                <div class="relative p-4 bg-gray-50">
                    <video controls class="training-video" preload="metadata">
                        <source src="./videos/Dealership selection.mp4" type="video/mp4">
                        <track src="./captions/Dealership_selection.vtt" kind="subtitles" srclang="en" label="English">
                        Your browser does not support the video tag.
                    </video>
                    <p class="mt-4 text-center text-gray-700">Use the search bar to find a dealership, then click <strong>Launch</strong>.</p>
                </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
                <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
                <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                  <li>The <strong>Launch</strong> button is required to open the scheduler; clicking the name will not work.</li>
                  <li>If a dealership you need is missing from the list, please contact your administrator.</li>
                </ul>
              </div>
            </div>
          </section>

        <!-- NEW APPT TAB-->
        <section id="newappt" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">3 — Booking a New Appointment</h2>

            <div id="newApptCarousel" class="carousel-container relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div class="carousel-slides relative p-4 bg-gray-50">
                <div class="carousel-slide w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 1.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 1: Select Dealership then Click <strong>New Appointment</strong></p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 2.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 2: Search for the customer using <strong>Phone number, Name, Email, Vin, or Confirmation Code.</strong></p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 3.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 3: Verify the <strong>Customer</strong> and their <strong>Vehicle.</strong></p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 4.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 4: Choose the correct <strong>Service package.</strong></p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 5.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 5: Select the <strong>Advisor</strong></p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 6.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 6: Choose the correct <strong>Transportation</strong></p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 7.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 7: Choose the <strong>Date</strong> and <strong>Time</strong> of the appointment</p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 8.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 8: Confirm how the customer wants to get their <strong>Appointment Confirmation</strong>.</p>
                </div>
                <div class="carousel-slide hidden w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/New Appt part 9.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700">Step 9: Review all details then <strong>Book the appointment.</strong></p>
                </div>
              </div>
              <div class="flex justify-between items-center p-3 bg-white border-t">
                <button class="carousel-prev px-4 py-2 bg-gray-200 text-gray-800 text-sm rounded-lg hover:bg-gray-300 transition" aria-label="Previous slide">Back</button>
                <div class="carousel-dots flex justify-center space-x-2"></div>
                <button class="carousel-next px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-500 transition" aria-label="Next slide">Next</button>
              </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li>Searching using the <strong>Phone number</strong> is the fastest way to look for the customer's information</li>
                <li>Select vehicles with a <strong>VIN</strong> when available for better service tracking.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- NEW CUSTOMER TAB -->
        <section id="newcustomer" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">4 — Creating a New Customer</h2>

            <div class="relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div class="relative p-4 bg-gray-50">
                <video controls class="training-video" preload="metadata">
                  <source src="./videos/Add new customer.mp4" type="video/mp4">
                  <track src="./captions/Add new customer.vtt" kind="subtitles" srclang="en" label="English">
                  Your browser does not support the video tag.
                </video>
                <p class="mt-4 text-center text-gray-700">Use the <strong>'Quick Add'</strong> button to create a new profile.</p>
              </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li>A first name, last name, and phone number are <strong>required</strong> fields.</li>
                <li>Add vehicle information, to create a complete record.</li>
                <li>Adding the mileage is <strong>optional</strong></li>
                <li>Be sure to confirm the type of the phone number</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- ADD/DELETE VEHICLE TAB -->
        <section id="addvehicle" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">5 — Adding/Removing a Vehicle</h2>

            <div id="newCarCarousel" class="carousel-container relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div class="carousel-slides relative p-4 bg-gray-50">
                <div class="carousel-slide w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/Add new vehicle.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700"><strong>Adding</strong> a new vehicle to a customer's profile</p>
                </div>
                <div class="carousel-slide w-full flex flex-col justify-center">
                  <video controls class="training-video" preload="metadata"><source src="./videos/Remove vehicle.mp4" type="video/mp4"></video>
                  <p class="mt-4 text-center text-gray-700"><strong>Removing</strong> a vehicle to a customer's profile</p>
                </div>
              </div>

              <div class="flex justify-between items-center p-3 bg-white border-t">
                <button class="carousel-prev px-4 py-2 bg-gray-200 text-gray-800 text-sm rounded-lg hover:bg-gray-300 transition" aria-label="Previous slide">Back</button>
                <div class="carousel-dots flex justify-center space-x-2"></div>
                <button class="carousel-next px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-500 transition" aria-label="Next slide">Next</button>
              </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li>Make sure that the <strong>right customer</strong> is selected before adding or removing the vehicle</li>
                <li><strong>Always</strong> confirm with the customer before deleting a vehicle from their profile.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- RESCHEDULE TAB-->
        <section id="reschedule" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">6 — Rescheduling an Appointment</h2>

            <div class="relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div class="relative p-4 bg-gray-50">
                <video controls class="training-video" preload="metadata"><source src="./videos/Resched-appt.mp4" type="video/mp4"></video>
                <p class="mt-4 text-center text-gray-700">Find the existing appointment, click the <strong>green button</strong> then modify the schedule</p>
              </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li>If the policy for the requested services states <strong>"DO NOT SCHEDULE"</strong>, you must not make any changes to the current appointment. Instead, send a <strong>Hot Alert</strong>, as this type of service requires changes to be handled directly by the service advisors.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- CANCEL TAB -->
        <section id="cancel" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">7 — Cancelling an Appointment</h2>

            <div class="relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div class="relative p-4 bg-gray-50">
                <video controls class="training-video" preload="metadata"><source src="./videos/Cancel-appt.mp4" type="video/mp4"></video>
                <p class="mt-4 text-center text-gray-700">Open the existing appointment then click the <strong>Cancel Appointment</strong></p>
              </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li><strong>Make sure</strong> your are working on the right account before clicking the Cancel Appointment button</li>
                <li>Always try to <strong>attempt to reschedule</strong> instead of cancelling the appointment.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- DMS TAB -->
        <section id="dmsappt" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg-p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">8 — DMS Appointment</h2>

            <div class="relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div class="relative p-4 bg-gray-50">
                <video controls class="training-video" preload="metadata"><source src="./videos/dms-appointment.mp4" type="video/mp4"></video>
                <p class="mt-4 text-center text-gray-700">Curabitur bibendum, mi a placerat vehicula, arcu nibh pretium lorem.</p>
              </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li>Nulla pretium nunc ut ipsum egestas, nec tincidunt justo aliquet.</li>
                <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- RO HISTORY TAB -->
        <section id="rohistory" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg-p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">9 — RO History</h2>

            <div class="relative max-w-6xl mx-auto rounded-lg overflow-hidden border">
              <div class="relative p-4 bg-gray-50">
                <video controls class="training-video" preload="metadata"><source src="./videos/dms-appointment.mp4" type="video/mp4"></video>
                <p class="mt-4 text-center text-gray-700">Curabitur bibendum, mi a placerat vehicula, arcu nibh pretium lorem.</p>
              </div>
            </div>

            <div class="mt-6 max-w-4xl mx-auto bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="edit-3" class="w-4 h-4 mr-2"></i>Take Notes</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                <li>Nulla pretium nunc ut ipsum egestas, nec tincidunt justo aliquet.</li>
                <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- KNOWLEDGE CHECK TAB -->
        <section id="knowledgecheck" class="page">
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-center">Knowledge Check</h2>
            <div class="mt-6 max-w-4xl mx-auto bg-orange-50 border-l-4 border-orange-400 text-orange-800 p-4 rounded-r-lg">
              <p class="font-bold flex items-center"><i data-feather="alert-triangle" class="w-4 h-4 mr-2"></i>Contents are for Sample Only</p>
              <ul class="list-disc pl-5 mt-2 space-y-1 text-sm"></ul>
            </div>
            
            <div class="max-w-4xl mx-auto space-y-8">
              
              <!-- Multiple Choice -->
              <div class="quiz-question p-6 border border-gray-200 rounded-lg">
                <h3 class="font-semibold mb-4">1. What is the first step when logging into Xtime?</h3>
                <div class="space-y-2">
                  <label class="flex items-center space-x-3">
                    <input type="radio" name="q1" class="h-4 w-4 text-blue-600">
                    <span>Enter your username</span>
                  </label>
                  <label class="flex items-center space-x-3">
                    <input type="radio" name="q1" class="h-4 w-4 text-blue-600">
                    <span>Go to Xtime.com and click Login</span>
                  </label>
                  <label class="flex items-center space-x-3">
                    <input type="radio" name="q1" class="h-4 w-4 text-blue-600">
                    <span>Select your dealership</span>
                  </label>
                </div>
              </div>

              <!-- True/False -->
              <div class="quiz-question p-6 border border-gray-200 rounded-lg">
                <h3 class="font-semibold mb-4">2. You can create a new appointment without selecting a dealership.</h3>
                <div class="space-y-2">
                  <label class="flex items-center space-x-3">
                    <input type="radio" name="q2" class="h-4 w-4 text-blue-600">
                    <span>True</span>
                  </label>
                  <label class="flex items-center space-x-3">
                    <input type="radio" name="q2" class="h-4 w-4 text-blue-600">
                    <span>False</span>
                  </label>
                </div>
              </div>

              <!-- Checkboxes -->
              <div class="quiz-question p-6 border border-gray-200 rounded-lg">
                <h3 class="font-semibold mb-4">3. Which fields are required when creating a new customer? (Select all that apply)</h3>
                <div class="space-y-2">
                  <label class="flex items-center space-x-3">
                    <input type="checkbox" name="q3" class="h-4 w-4 text-blue-600">
                    <span>First Name</span>
                  </label>
                  <label class="flex items-center space-x-3">
                    <input type="checkbox" name="q3" class="h-4 w-4 text-blue-600">
                    <span>Last Name</span>
                  </label>
                  <label class="flex items-center space-x-3">
                    <input type="checkbox" name="q3" class="h-4 w-4 text-blue-600">
                    <span>Phone Number</span>
                  </label>
                  <label class="flex items-center space-x-3">
                    <input type="checkbox" name="q3" class="h-4 w-4 text-blue-600">
                    <span>Email Address</span>
                  </label>
                </div>
              </div>

              <!-- Matching Type -->
              <div class="quiz-question p-6 border border-gray-200 rounded-lg">
                <h3 class="font-semibold mb-4">4. Match each action with its correct description:</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="space-y-2">
                    <div class="p-2 bg-gray-100 rounded">Rescheduling</div>
                    <div class="p-2 bg-gray-100 rounded">Cancelling</div>
                    <div class="p-2 bg-gray-100 rounded">New Appointment</div>
                  </div>
                  <div class="space-y-2">
                    <select class="w-full p-2 border rounded">
                      <option value="">Select match</option>
                      <option value="a">Creating a future service visit</option>
                      <option value="b">Changing date/time of existing appointment</option>
                      <option value="c">Removing an appointment entirely</option>
                    </select>
                    <select class="w-full p-2 border rounded">
                      <option value="">Select match</option>
                      <option value="a">Creating a future service visit</option>
                      <option value="b">Changing date/time of existing appointment</option>
                      <option value="c">Removing an appointment entirely</option>
                    </select>
                    <select class="w-full p-2 border rounded">
                      <option value="">Select match</option>
                      <option value="a">Creating a future service visit</option>
                      <option value="b">Changing date/time of existing appointment</option>
                      <option value="c">Removing an appointment entirely</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Fill in the Blank -->
              <div class="quiz-question p-6 border border-gray-200 rounded-lg">
                <h3 class="font-semibold mb-4">5. Complete the sentence: Always search for a customer by __________ before creating a new profile.</h3>
                <input type="text" class="w-full p-2 border rounded" placeholder="Your answer...">
              </div>

              <!-- Image Identification -->
              <div class="quiz-question p-6 border border-gray-200 rounded-lg">
                <h3 class="font-semibold mb-4">6. Identify the correct button to launch the scheduler:</h3>
                <div class="flex flex-wrap gap-4 justify-center">
                  <label class="cursor-pointer">
                    <img src="https://via.placeholder.com/150x100?text=Launch" alt="Launch button screenshot" class="w-32 h-20 object-cover rounded border-2 border-transparent hover:border-blue-500">
                    <div class="text-center mt-2">
                      <input type="radio" name="q6" class="mr-1"> Launch
                    </div>
                  </label>
                  <label class="cursor-pointer">
                    <img src="https://via.placeholder.com/150x100?text=Login" alt="Login button screenshot" class="w-32 h-20 object-cover rounded border-2 border-transparent hover:border-blue-500">
                    <div class="text-center mt-2">
                      <input type="radio" name="q6" class="mr-1"> Login
                    </div>
                  </label>
                  <label class="cursor-pointer">
                    <img src="https://via.placeholder.com/150x100?text=Search" alt="Search button screenshot" class="w-32 h-20 object-cover rounded border-2 border-transparent hover:border-blue-500">
                    <div class="text-center mt-2">
                      <input type="radio" name="q6" class="mr-1"> Search
                    </div>
                  </label>
                </div>
              </div>

              <!-- Actions -->
              <div class="flex justify-between mt-8">
                <button type="button" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition">Reset Answers</button>
                <button type="button" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">Submit Quiz</button>
              </div>

            </div>
          </div>
        </section>


      </main>
    </div>
  </div>
  <!-- END OF XTIME MODULE  -->

  <!-- IMAGE MODAL -->
  <div id="imageModal" class="flex" role="dialog" aria-modal="true" aria-label="Image Modal">
    <img id="modalImage" src="" alt="">
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // init libs
      AOS.init({ duration: 600, easing: 'ease-out-quad', once: true });
      feather.replace();

      // refs
      const pages = document.querySelectorAll('.page');
      const sidebar = document.getElementById('sidebar');
      const mainHeaderTitle = document.getElementById('main-header-title');
      const mainContent = document.getElementById('main-content');
      const searchBar = document.getElementById('search-bar-container');

      // showPage: pageId (string), tabId (string, optional)
      function showPage(pageId, tabId) {
        const next = document.getElementById(pageId);
        if (!next) return;

        // hide all pages, show the one
        pages.forEach(p => p.classList.remove('active'));
        next.classList.add('active');

        // update header title from page h2 if exists
        //const titleEl = next.querySelector('h2');
        //mainHeaderTitle.textContent = titleEl ? titleEl.textContent : 'Training Modules';

        // update active tab styling: remove from all .tab-btn
        document.querySelectorAll('.tab-btn').forEach(t => {
          t.classList.remove('bg-blue-50','text-blue-600', 'highlight-active');
          t.classList.add('text-gray-700');
          t.removeAttribute('aria-current');
        });

        // determine tab to mark active:
        let activeTabEl = null;
        if (tabId) activeTabEl = document.getElementById(tabId);
        if (!activeTabEl) activeTabEl = document.querySelector(`.tab-btn[data-page="${pageId}"]`);
        if (activeTabEl) {
          activeTabEl.classList.add('bg-blue-50','text-blue-600', 'highlight-active');
          activeTabEl.setAttribute('aria-current','page');
        }

        // sidebar toggle: hide on dashboard-main
        if (pageId === 'dashboard-main') {
          sidebar.classList.add('-translate-x-full');
          mainContent.classList.remove('ml-64');
        } else {
          sidebar.classList.remove('-translate-x-full');
          mainContent.classList.add('ml-64');
        }
        // Show/hide search bar
        if (pageId === 'dashboard-main') {
          searchBar.classList.remove('hidden');
        } else {
          searchBar.classList.add('hidden');
        }

        // pause videos not in the active page (avoid background playback)
        document.querySelectorAll('video').forEach(v => {
          const p = v.closest('.page');
          if (!p || p.id !== pageId) {
            try { v.pause(); } catch(e) {}
          }
        });

        // scroll main area to top
        const scrollArea = document.querySelector('.flex-1.overflow-auto');
        if (scrollArea) scrollArea.scrollTop = 0;

        AOS.refresh();
      }

      // wire sidebar tab buttons (class .tab-btn)
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const pageId = btn.dataset.page;
          showPage(pageId, btn.id);
        });
      });

      // wire other clickable elements that navigate (cards / CTA) but avoid double-binding sidebar .tab-btn
      document.querySelectorAll('[data-page]:not(.tab-btn)').forEach(el => {
        // make keyboard accessible
        if (!['BUTTON','A'].includes(el.tagName)) {
          el.setAttribute('role','button');
          if (!el.hasAttribute('tabindex')) el.setAttribute('tabindex','0');
        }
        el.addEventListener('click', (e) => {
          e.preventDefault();
          const targetPage = el.dataset.page;
          // prefer explicit data-active-tab if provided
          const explicitTab = el.dataset.activeTab || null;
          showPage(targetPage, explicitTab);
        });
        el.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); el.click(); }
        });
      });

      // initial state
      showPage('dashboard-main', 'tab-dashboard-main');

      // --- Image modal ---
      const imageModal = document.getElementById('imageModal');
      const modalImage = document.getElementById('modalImage');
      function openModal(src, alt = '') {
        modalImage.src = src;
        modalImage.alt = alt;
        imageModal.style.display = 'flex';
      }
      function closeModal() {
        imageModal.style.display = 'none';
        modalImage.src = '';
        modalImage.alt = '';
      }
      // close by clicking outside image or press Esc
      imageModal.addEventListener('click', (e) => {
        if (e.target === modalImage) return; // clicked image -> do nothing
        closeModal();
      });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });

      // expose openModal to window for easy usage from markup if needed
      window.openModal = openModal;

      // --- Reusable Carousel with Autoplay on Navigate ---
      function initCarousel(carouselId) {
        const carouselRoot = document.getElementById(carouselId);
        if (!carouselRoot) return;

        const slidesContainer = carouselRoot.querySelector('.carousel-slides');
        const slides = slidesContainer.querySelectorAll('.carousel-slide');
        const dotsContainer = carouselRoot.querySelector('.carousel-dots');
        const btnNext = carouselRoot.querySelector('.carousel-next');
        const btnPrev = carouselRoot.querySelector('.carousel-prev');

        if (!slides.length || !dotsContainer) return;

        let current = 0;
        let isInitialLoad = true; // Flag for initial load

        // create dots
        slides.forEach((_, i) => {
          const d = document.createElement('button');
          d.className = 'w-3 h-3 rounded-full carousel-dot bg-gray-300';
          d.setAttribute('aria-label', 'Go to slide ' + (i + 1));
          d.addEventListener('click', () => { 
            isInitialLoad = false; // Set flag to false on user action
            current = i; 
            show(current); 
          });
          dotsContainer.appendChild(d);
        });
        const dots = dotsContainer.querySelectorAll('button');

        function updateDots(index) {
          dots.forEach((dot, i) => {
            dot.classList.toggle('bg-blue-600', i === index);
            dot.classList.toggle('bg-gray-300', i !== index);
            dot.style.transform = i === index ? 'scale(1.1)' : 'scale(1)';
          });
        }

        function show(index) {
          // Hide all slides except the active one
          slides.forEach((s, i) => { s.classList.toggle('hidden', i !== index); });

          // --- New Video Handling Logic ---
          // 1. Pause any video that is NOT the active one
          slides.forEach((s, i) => {
            if (i !== index) {
              const v = s.querySelector('video');
              if (v) try { v.pause(); v.currentTime = 0; } catch (e) {}
            }
          });

          // 2. Handle the video in the ACTIVE slide
          const activeVideo = slides[index].querySelector('video');
          if (activeVideo && !isInitialLoad) {
            activeVideo.currentTime = 0;
            activeVideo.play().catch(error => {
              // Autoplay was prevented by the browser, which is normal.
              // The user can still click play manually.
              console.log('Autoplay prevented by browser.');
            });
          }

          updateDots(index);
        }

        function next() { 
          isInitialLoad = false; // Set flag to false on user action
          current = (current + 1) % slides.length; 
          show(current); 
        }
        function prev() { 
          isInitialLoad = false; // Set flag to false on user action
          current = (current - 1 + slides.length) % slides.length; 
          show(current); 
        }

        if (btnNext) btnNext.addEventListener('click', (e) => { e.preventDefault(); next(); });
        if (btnPrev) btnPrev.addEventListener('click', (e) => { e.preventDefault(); prev(); });

        document.addEventListener('keydown', (e) => {
          if (!carouselRoot.closest('.page.active')) return;
          isInitialLoad = false; // Set flag to false on user action
          if (e.key === 'ArrowLeft') prev();
          if (e.key === 'ArrowRight') next();
        });

        // Initial show
        show(current);
      }

      // Initialize all carousels on the page
      initCarousel('loginCarousel');
      initCarousel('newApptCarousel');
      initCarousel('newCarCarousel');


      // --- Dashboard Search Filter ---
      (function initSearchFilter() {
        const searchInput = document.getElementById('module-search-input');
        const cardsGrid = document.querySelector('#dashboard-main .grid');

        if (!searchInput || !cardsGrid) return;

        // Get all direct children of the grid, which are the module cards
        const allCards = Array.from(cardsGrid.children);

        searchInput.addEventListener('input', (e) => {
          const searchTerm = e.target.value.toLowerCase();

          allCards.forEach(card => {
            const titleElement = card.querySelector('h3');
            if (titleElement) {
              const title = titleElement.textContent.toLowerCase();

              // If the card title includes the search term, show it. Otherwise, hide it.
              if (title.includes(searchTerm)) {
                card.classList.remove('hidden');
              } else {
                card.classList.add('hidden');
              }
            }
          });
        });
      })();

      // --- Auto-hiding scrollbar on scroll event ---
      (function initAutoHideScrollbar() {
        const mainContent = document.getElementById('main-content');
        const sidebarNav = document.querySelector('.sidebar nav');

        const applyScrollListener = (element) => {
          if (!element) return;
          let timeout = null;

          element.addEventListener('scroll', () => {
            element.classList.add('is-scrolling'); // fade in immediately

            clearTimeout(timeout);
            timeout = setTimeout(() => {
              element.classList.remove('is-scrolling'); // fade out starts after 2s
            }, 2000); // wait 2s before fading out
          });
        };

        applyScrollListener(mainContent);
        applyScrollListener(sidebarNav);
      })();


    }); // DOMContentLoaded
  </script>
</body>
</html>
